# This file was auto-generated by the Firebase CLI
# https://github.com/firebase/firebase-tools

name: CI
'on':
  - push
jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v3
      - uses: ./.github/actions/yarn-prepare
      - name: yarn build
        env:
          CTF_CDA_ACCESS_TOKEN: ${{ secrets.CTF_CDA_ACCESS_TOKEN }}
          CTF_MAIN_AUTHOR_ID: ${{ secrets.CTF_MAIN_AUTHOR_ID }}
          CTF_SPACE_ID: ${{ secrets.CTF_SPACE_ID }}
          NEXT_PUBLIC_GTM_ID: ${{ secrets.NEXT_PUBLIC_GTM_ID }}
        run: |
          NODE_ENV=production yarn build
  lint:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v3
      - uses: ./.github/actions/yarn-prepare
      - run: yarn lint
